<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./main.css" />

    <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.module.js",
          "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.158.0/examples/jsm/"
        }
      }
    </script>
  </head>

  <body>
    <div id="root-window">
      <div id="render-target">
        <div id="ui-toolbar">
          <button id="button-bulldoze" class="ui-button selected" onclick="setActiveTool(event, 'bulldoze')">BULLDOZE</button>
          <button id="button-residential" class="ui-button" onclick="setActiveTool(event, 'residential')">RESIDENTIAL</button>
          <button id="button-commercial" class="ui-button" onclick="setActiveTool(event, 'commercial')">COMMERCIAL</button>
          <button id="button-industrial" class="ui-button" onclick="setActiveTool(event, 'industrial')">INDUSTRIAL</button>
          <button id="button-road" class="ui-button" onclick="setActiveTool(event, 'road')">ROAD</button>
        </div>
      </div>
    </div>

    <script type="module">
      import { createGame } from "./game.js";

      // Store the currently selected tool button
      let selectedControl = document.getElementById('button-bulldoze');

      window.onload = () => {
        window.game = createGame();
      };
      window.setActiveTool = (event, toolId) => {
  // Remove 'selected' class from previous tool button
  if (selectedControl) {
    selectedControl.classList.remove('selected');
  }

  // Highlight the currently clicked button
  selectedControl = event.target;
  selectedControl.classList.add('selected');

  // Notify the game logic
  window.game.setActiveToolId(toolId);
  console.log(`Active tool set to: ${toolId}`); // Debugging line
}; </script>
  </body>
</html>
